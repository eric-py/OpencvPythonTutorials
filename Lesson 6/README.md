# پردازش تصویر با استفاده از عملیات‌های مورفولوژیکی

این پروژه شامل پیاده‌سازی تکنیک‌های **پردازش تصویر مورفولوژیک** می‌باشد که با استفاده از زبان پایتون و کتابخانه‌های `OpenCV` و `NumPy` بر روی یک تصویر خاکستری انجام شده است. این عملیات‌ها شامل آستانه‌گذاری، فرسایش، گسترش، باز و بسته‌کردن، و استخراج گرادیان است که کاربردهای گسترده‌ای در **بخش‌بندی تصویر**، **تشخیص اشیا** و **بینایی ماشین** دارند.


## پیش‌نیازها

برای اجرای این نوت‌بوک به نصب کتابخانه‌های زیر نیاز دارید:

- **NumPy**: برای کار با ماتریس‌ها و آرایه‌ها
- **OpenCV**: برای پردازش تصویر
- **Matplotlib**: برای نمایش نتایج

برای نصب این کتابخانه‌ها دستور زیر را اجرا کنید:
```bash
pip install numpy opencv-python-headless matplotlib
```

### ۱. **بارگذاری و پیش‌پردازش تصویر**
   - تصویر خاکستری با استفاده از OpenCV بارگذاری می‌شود.
   - سپس با استفاده از آستانه‌گذاری (Thresholding) به یک تصویر باینری تبدیل می‌شود، به این صورت که پیکسل‌هایی که مقدار آنها بالاتر از یک آستانه مشخص هستند سفید و بقیه سیاه می‌شوند.

### ۲. **اعمال عملیات‌های مورفولوژیکی**

   **عملیات‌های مورفولوژیکی** تکنیک‌هایی هستند که بر اساس شکل و ساختار اشیا در تصویر عمل می‌کنند و برای کاهش نویز، جدا کردن اشیای متصل، یا برجسته‌سازی ساختارها استفاده می‌شوند.

   - **آستانه‌گذاری**: تصویر خاکستری را به یک تصویر باینری تبدیل می‌کند که استخراج اشیا را ساده‌تر می‌سازد.
   - **فرسایش (Erosion)**: نواحی سفید (اشیای foreground) را کاهش می‌دهد و نویزهای کوچک را حذف می‌کند. این عملیات برای کوچک کردن اشیای سفید مفید است.
   - **گسترش (Dilation)**: نواحی سفید را بزرگ‌تر می‌کند، حفره‌ها را پر کرده و مرزها را تقویت می‌کند.
   - **باز کردن (Opening)**: فرسایش را دنبال شده توسط گسترش اعمال می‌کند که منجر به حذف نویزهای کوچک شده و ساختارهای بزرگ‌تر را حفظ می‌کند.
   - **بسته کردن (Closing)**: گسترش را دنبال شده توسط فرسایش اعمال می‌کند که برای پر کردن حفره‌های کوچک در داخل اشیای سفید و صاف کردن مرزها استفاده می‌شود.
   - **گرادیان**: با محاسبه تفاوت بین گسترش و فرسایش، لبه‌های اشیا را برجسته می‌کند و برای تشخیص لبه‌ها مناسب است.

هر عملیات با یک هسته (kernel) مربعی به ابعاد ۸x۸ اعمال می‌شود که منطقه اطراف هر پیکسل را برای تغییرات مورفولوژیکی تعیین می‌کند.

### ۳. **نمایش نتایج**

نتایج هر عملیات مورفولوژیکی در یک شبکه (grid) از زیربخش‌ها به شرح زیر نمایش داده می‌شوند:

- **تصویر اصلی**: تصویر خاکستری بارگذاری‌شده.
- **ماسک باینری (Thresholded Mask)**: نسخه‌ی باینری‌شده از تصویر.
- **ماسک فرسایش‌یافته**: نتیجه فرسایش، که اندازه اشیا را کاهش داده و نویز را حذف می‌کند.
- **ماسک گسترش‌یافته**: نتیجه گسترش، که سوراخ‌ها را پر کرده و مرزها را تقویت می‌کند.
- **ماسک بسته‌شده**: نتیجه بسته کردن که برای صاف کردن مرزها و پر کردن حفره‌های کوچک به کار می‌رود.
- **ماسک بازشده**: نتیجه باز کردن که نویزهای کوچک را حذف می‌کند.
- **ماسک گرادیان**: لبه‌های ساختارهای باینری را برجسته می‌کند.

هر تصویر با استفاده از `matplotlib` نمایش داده می‌شود که امکان بررسی تغییرات ایجاد شده توسط هر عملیات را فراهم می‌کند.

## خروجی نمونه

پس از اجرای نوت‌بوک، خروجی به شکل یک شبکه با چینش زیر قابل مشاهده خواهد بود:

| **تصویر اصلی** | **ماسک باینری**          |
|----------------|--------------------------|
| **ماسک فرسایش‌یافته** | **ماسک گسترش‌یافته**   |
| **ماسک بسته‌شده**    | **ماسک بازشده**        |
| **ماسک گرادیان**     | **فضای خالی**          |

این چیدمان شبکه‌ای به درک بهتر تفاوت‌ها و تأثیرات هر عملیات مورفولوژیکی کمک می‌کند.

## کاربردها

عملیات‌های مورفولوژیکی کاربردهای گسترده‌ای در پردازش تصویر و بینایی ماشین دارند، از جمله:

- **کاهش نویز**: حذف نویزهای کوچک یا تقویت مرزهای اشیا برای بخش‌بندی بهتر تصویر.
- **تحلیل شکل**: برجسته‌سازی یا تغییر ویژگی‌های ساختاری خاص تصویر.
- **تشخیص لبه**: استخراج و برجسته‌سازی مرزها که برای تشخیص اشیا مفید است.
- **تصویربرداری پزشکی**: برای بخش‌بندی و تحلیل سلول‌ها، بافت‌ها، یا سایر ساختارها در تصاویری مانند MRI یا CT.